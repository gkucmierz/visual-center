{"version":3,"sources":["assets/demo.js","visualCenter.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","_","require","base64ImageToRGBMatrix","base64ImageUtils","COLOR_DIFF_WEIGHT_EXPO","ROUNDS","SIZE","recursiveGetCoord","rgbMatrix","visualLeft","visualTop","currentAxis","stepSize","bgColor","normalizeColor","height","length","width","visualLeftToApply","visualTopToApply","ops","maxDiff","Math","max","r","g","b","maxDistance","getDistance","newVisualLeft","newVisualTop","oldCenterIntensity","getCenterIntensity","newCenterIntensity","centerPoint","reduce","resRow","row","rowIdx","resCol","col","colIdx","cellColorDiff","baseColor","testColor","a","diff","abs","pow","rgbDiff","cellDistance","pointA","pointB","color","floor","visualCenter","base64","callback","console","log","err","calculateVisualCenter","size","toPercent","number","round","App","props","state","showGuides","useCircle","useSpin","backgroundColor","this","setState","demoImage","fileArray","file","reader","FileReader","addEventListener","data","processBase64","currentTarget","result","readAsDataURL","resultLeft","resultTop","nColor","bgColorCode","bgColorCodeDark","isDark","recommendations","compact","className","style","onDrop","bind","marginTop","src","transform","Array","fill","map","el","elIdx","arr","tot","opacity","shadowStyle","outline","transformOrigin","normalStyle","key","BLADES","type","checked","onChange","fontWeight","lineHeight","padding","display","fontSize","rec","recIdx","href","target","React","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ab037774.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS4AAAECCAYAAABALjoOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGxGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTEwLTAyVDAyOjE0OjI4LTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0xMC0wMlQwMjo0Mzo0Ni0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0xMC0wMlQwMjo0Mzo0Ni0wNTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplYzZkYWM3OC1mNDA3LTQyMmItOTZhOC0xMTU3ODQ4OTI1OWMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUQ0QzIxRkFERDA4MTFFOTk0NDlENzAzRTRGRTQ4NzgiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5RDRDMjFGQUREMDgxMUU5OTQ0OUQ3MDNFNEZFNDg3OCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlENEMyMUY3REQwODExRTk5NDQ5RDcwM0U0RkU0ODc4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlENEMyMUY4REQwODExRTk5NDQ5RDcwM0U0RkU0ODc4Ii8+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM5NzNlZDk5LWM1NTgtNDFhNC04MWI4LTRjZWQ3YTI0NmVhMiIgc3RFdnQ6d2hlbj0iMjAxOS0xMC0wMlQwMjo0MzoyMy0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVjNmRhYzc4LWY0MDctNDIyYi05NmE4LTExNTc4NDg5MjU5YyIgc3RFdnQ6d2hlbj0iMjAxOS0xMC0wMlQwMjo0Mzo0Ni0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YKTYIQAA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\"","import base64ImageUtils from \"base64-image-utils\";\n\nconst _ = require(\"lodash\");\nconst { base64ImageToRGBMatrix } = base64ImageUtils;\n\nconst COLOR_DIFF_WEIGHT_EXPO = 0.333;\n\nconst ROUNDS = 200;\nconst SIZE = 420;\n\nfunction visualCenter(base64, callback, opts = {}) {\n\n  console.log(base64)\n\n  base64ImageToRGBMatrix(\n    base64,\n    (err, rgbMatrix) => {\n      const height = rgbMatrix.length;\n      const width = rgbMatrix[0].length;\n      const bgColor = normalizeColor(rgbMatrix[0][0]);\n\n      const { visualLeft, visualTop } = calculateVisualCenter(rgbMatrix);\n\n      callback(null, {\n        visualTop: visualTop,\n        visualLeft: visualLeft,\n\n        bgColor: bgColor,\n        width: width,\n        height: height\n      });\n    },\n    {\n      size: SIZE\n    }\n  );\n}\n\nfunction calculateVisualCenter(rgbMatrix) {\n  var visualLeft = 0.5;\n  var visualTop = 0.5;\n\n  var { visualLeft } = recursiveGetCoord(rgbMatrix, visualLeft, visualTop, \"X\", 1 / ROUNDS);\n  var { visualLeft } = recursiveGetCoord(rgbMatrix, visualLeft, visualTop, \"X\", -1 / ROUNDS);\n  var { visualTop } = recursiveGetCoord(rgbMatrix, visualLeft, visualTop, \"Y\", 1 / ROUNDS);\n  var { visualTop } = recursiveGetCoord(rgbMatrix, visualLeft, visualTop, \"Y\", -1 / ROUNDS);\n\n  return { visualLeft, visualTop };\n}\n\nfunction recursiveGetCoord(rgbMatrix, visualLeft, visualTop, currentAxis, stepSize) {\n  const bgColor = normalizeColor(rgbMatrix[0][0]);\n  const height = rgbMatrix.length;\n  const width = rgbMatrix[0].length;\n\n  var visualLeftToApply = visualLeft;\n  var visualTopToApply = visualTop;\n\n  const ops = {\n    bgColor,\n    height: rgbMatrix.length,\n    width: rgbMatrix[0].length,\n    maxDiff:\n      Math.max(bgColor.r, 255 - bgColor.r) +\n      Math.max(bgColor.g, 255 - bgColor.g) +\n      Math.max(bgColor.b, 255 - bgColor.b),\n    maxDistance: getDistance([0, 0], [width, height])\n  };\n\n  var newVisualLeft = visualLeft;\n  var newVisualTop = visualTop;\n\n  if (currentAxis === \"X\") {\n    newVisualLeft += stepSize;\n  } else {\n    newVisualTop += stepSize;\n  }\n\n  var oldCenterIntensity = getCenterIntensity(rgbMatrix, visualLeft, visualTop, ops);\n  var newCenterIntensity = getCenterIntensity(rgbMatrix, newVisualLeft, newVisualTop, ops);\n\n  while (newCenterIntensity > oldCenterIntensity) {\n    visualLeftToApply = newVisualLeft;\n    visualTopToApply = newVisualTop;\n\n    if (currentAxis === \"X\") {\n      newVisualLeft += stepSize;\n    } else {\n      newVisualTop += stepSize;\n    }\n    oldCenterIntensity = newCenterIntensity;\n    newCenterIntensity = getCenterIntensity(rgbMatrix, newVisualLeft, newVisualTop, ops);\n  }\n\n  return {\n    visualLeft: visualLeftToApply,\n    visualTop: visualTopToApply\n  };\n}\n\nfunction getCenterIntensity(rgbMatrix, visualLeft, visualTop, ops) {\n  const { bgColor, height, width, maxDiff, maxDistance } = ops;\n\n  const centerCol = visualTop * height;\n  const centerRow = visualLeft * width;\n  const centerPoint = [centerCol, centerRow];\n\n  return _.reduce(\n    rgbMatrix,\n    (resRow, row, rowIdx) => {\n      return (\n        resRow +\n        _.reduce(\n          row,\n          (resCol, col, colIdx) => {\n            const cellColorDiff = rgbDiff(bgColor, col, maxDiff);\n\n            if (!cellColorDiff) return resCol;\n\n            const cellDistance = getDistance(centerPoint, [rowIdx, colIdx]);\n            const cellColorWeight = cellColorDiff * Math.pow(1 - cellDistance / maxDistance, 0.5) * 1000;\n\n            return resCol + cellColorWeight;\n          },\n          0\n        )\n      );\n    },\n    0\n  );\n}\n\nfunction getDistance(pointA, pointB) {\n  return Math.pow(Math.pow(pointA[0] - pointB[0], 2) + Math.pow(pointA[1] - pointB[1], 2), 0.5);\n}\n\nfunction normalizeColor(color) {\n  return {\n    r: Math.floor(color.r * (color.a / 255) + 255 * (1 - color.a / 255)),\n    g: Math.floor(color.g * (color.a / 255) + 255 * (1 - color.a / 255)),\n    b: Math.floor(color.b * (color.a / 255) + 255 * (1 - color.a / 255)),\n    a: 255\n  };\n}\n\nfunction rgbDiff(baseColor, testColor, maxDiff) {\n  if (testColor.a === 0) return 0;\n\n  const diff =\n    Math.abs(baseColor.r - testColor.r) + Math.abs(baseColor.g - testColor.g) + Math.abs(baseColor.b - testColor.b);\n  const result = Math.pow(diff / maxDiff, COLOR_DIFF_WEIGHT_EXPO) * (testColor.a / 255) * 1000;\n\n  return result;\n}\n\n// module.exports = visualCenter;\nexport default visualCenter;\n","import React from \"react\";\n\nimport Dropzone from \"react-dropzone\";\nimport _ from \"lodash\";\n\nimport visualCenter from \"./visualCenter.js\";\nimport demoImage from \"./assets/demo.js\";\n\nconst BLADES = 24;\n\nclass App extends React.Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      base64: null,\n\n      showGuides: true,\n      useCircle: true,\n      useSpin: false,\n\n      visualLeft: 0.5,\n      visualTop: 0.667,\n\n      backgroundColor: {\n        r: 255,\n        g: 255,\n        b: 255,\n        a: 255\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      base64: demoImage\n    });\n\n    // this.processBase64(demoImage);\n  }\n\n  onDrop(fileArray) {\n    const file = fileArray[0];\n    const reader = new FileReader();\n\n    reader.addEventListener(\n      \"load\",\n      data => {\n        this.processBase64(data.currentTarget.result);\n      },\n      false\n    );\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n  processBase64(base64) {\n    visualCenter(base64, (err, result) => {\n      const { visualTop, visualLeft, bgColor } = result;\n\n      this.setState({\n        visualTop: visualTop,\n        visualLeft: visualLeft,\n\n        base64: base64,\n        backgroundColor: bgColor\n      });\n    });\n  }\n\n  render() {\n    const { base64, visualTop, visualLeft, showGuides, useCircle, useSpin, backgroundColor } = this.state;\n    const resultLeft = visualLeft;\n    const resultTop = visualTop;\n\n    const nColor = normalizeColor(backgroundColor);\n\n    const bgColorCode = `rgb(${nColor.r}, ${nColor.g}, ${nColor.b})`;\n    const bgColorCodeDark = `rgb(${Math.floor(nColor.r * 0.9)}, ${Math.floor(nColor.g * 0.9)}, ${Math.floor(\n      nColor.b * 0.9\n    )})`;\n    const isDark = nColor.r + nColor.g + nColor.b < (255 * 3) / 1.7;\n\n    const recommendations = _.compact([\n      resultLeft > 0.5 && (\n        <span>\n          move it left by <b>{toPercent(resultLeft - 0.5)}%</b>\n        </span>\n      ),\n      resultLeft < 0.5 && (\n        <span>\n          move it right by <b>{toPercent(1 - resultLeft - 0.5)}%</b>\n        </span>\n      ),\n      resultLeft !== 0.5 && resultTop !== 0.5 && <span> and </span>,\n      resultTop > 0.5 && (\n        <span>\n          move it up by <b>{toPercent(resultTop - 0.5)}%</b>\n        </span>\n      ),\n      resultTop < 0.5 && (\n        <span>\n          move it down by <b>{toPercent(1 - resultTop - 0.5)}%</b>\n        </span>\n      )\n    ]);\n\n    return (\n      <div className=\"app\" style={{ backgroundColor: bgColorCodeDark, color: isDark ? \"#fff\" : \"#333\" }}>\n        <div className=\"app-header\">\n          <Dropzone onDrop={this.onDrop.bind(this)} className=\"dropzone\">\n            <div>\n              <h1 className=\"app-title\">Visual Center</h1>\n              <div>Find the visual center of your images.</div>\n              <div style={{ marginTop: \"0.5rem\" }}>Start by selecting your image. Click or drop here.</div>\n            </div>\n          </Dropzone>\n        </div>\n\n        <div\n          className={`demo-image-comparison ${showGuides ? \"-show-guides\" : \"\"} ${useCircle ? \"-use-circle\" : \"\"} ${\n            useSpin ? \"-use-spin\" : \"\"\n          }`}>\n          <div className=\"column\">\n            <div className=\"demo-image-container-title\">Container Center</div>\n            <div className=\"demo-image-container\" style={{ backgroundColor: bgColorCode }}>\n              <img\n                src={base64}\n                style={{\n                  transform: `translatey(-50%) translatex(-50%)`\n                }}\n                className=\"demo-image\"\n              />\n\n              {new Array(BLADES).fill(\"\").map((el, elIdx, arr) => {\n                const tot = arr.length * 3;\n\n                const opacity = 0.1 + 0.3 * ((arr.length - elIdx) / arr.length);\n\n                const shadowStyle = {\n                  outline: \"none\",\n                  transform: `translatey(-${0.5 * 100}%) translatex(${-0.5 * 100}%) rotate(-${(360 / tot) * elIdx}deg)`,\n                  opacity: opacity,\n                  transformOrigin: `${0.5 * 100}% ${0.5 * 100}%`\n                };\n\n                const normalStyle = {\n                  transform: `translatey(-${0.5 * 100}%) translatex(${-0.5 * 100}%) rotate(0deg)`,\n                  opacity: 0,\n                  transformOrigin: `${0.5 * 100}% ${0.5 * 100}%`\n                };\n\n                return (\n                  <img\n                    src={base64}\n                    key={elIdx}\n                    className={`demo-image -shadow-${elIdx}`}\n                    style={useSpin ? shadowStyle : normalStyle}\n                  />\n                );\n              })}\n            </div>\n          </div>\n\n          <div className=\"column\">\n            <div className=\"demo-image-container-title\">Visual Center</div>\n            <div className=\"demo-image-container\" style={{ backgroundColor: bgColorCode }}>\n              <img\n                src={base64}\n                className=\"demo-image\"\n                style={{\n                  transform: `translatey(-${resultTop * 100}%) translatex(${-resultLeft * 100}%)`\n                }}\n              />\n\n              {new Array(BLADES + 2).fill(\"\").map((el, elIdx, arr) => {\n                const tot = arr.length * 3;\n\n                const opacity = 0.05 + 0.3 * ((arr.length - elIdx) / arr.length);\n\n                const shadowStyle = {\n                  outline: \"none\",\n                  transform: `translatey(-${resultTop * 100}%) translatex(${-resultLeft * 100}%) rotate(-${(360 / tot) *\n                    elIdx}deg)`,\n                  opacity: opacity,\n                  transformOrigin: `${resultLeft * 100}% ${resultTop * 100}%`\n                };\n\n                const normalStyle = {\n                  transform: `translatey(-${resultTop * 100}%) translatex(${-resultLeft * 100}%) rotate(0deg)`,\n                  opacity: 0,\n                  transformOrigin: `${resultLeft * 100}% ${resultTop * 100}%`\n                };\n\n                return (\n                  <img\n                    src={base64}\n                    key={elIdx}\n                    className={`demo-image -shadow-${elIdx}`}\n                    style={useSpin ? shadowStyle : normalStyle}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"app-control-container\">\n          <label className=\"app-control\">\n            <input\n              type=\"checkbox\"\n              checked={showGuides}\n              onChange={() => {\n                this.setState({ showGuides: !showGuides });\n              }}\n            />\n            <div>Show guides</div>\n          </label>\n\n          <label className=\"app-control\">\n            <input\n              type=\"checkbox\"\n              checked={useCircle}\n              onChange={() => {\n                this.setState({ useCircle: !useCircle });\n              }}\n            />\n            <div>Make the canvas a circle</div>\n          </label>\n\n          <label className=\"app-control\">\n            <input\n              type=\"checkbox\"\n              checked={useSpin}\n              onChange={() => {\n                this.setState({ useSpin: !useSpin });\n              }}\n            />\n            <div>\n              Rotation Shadows{\" \"}\n              <span\n                style={{\n                  fontWeight: \"500\",\n                  lineHeight: 1,\n                  padding: \"0.25rem\",\n                  backgroundColor: \"rgba(255,255,255,0.25)\",\n                  display: \"inline-block\",\n                  color: \"#c00\",\n                  fontSize: \"0.7rem\"\n                }}>\n                NEW\n              </span>\n            </div>\n          </label>\n        </div>\n\n        {base64 && (\n          <div className=\"padding-2 results\">\n            <div>{base64 && `The center is at ${toPercent(resultLeft)}% - ${toPercent(resultTop)}%`}</div>\n            {recommendations.length ? (\n              <div>\n                {\"You can visual center your image if you \"}\n                {_.map(recommendations, (rec, recIdx) => {\n                  return <span key={recIdx}>{rec}</span>;\n                })}\n              </div>\n            ) : (\n              <div style={{ color: \"#27AE60\" }}>Your image is perfectly centered! Congrats!</div>\n            )}\n            <div>\n              <br />\n              Interested in <strong>Sketch</strong> and <strong>Figma</strong> plugins?{\" \"}\n              <a href=\"http://eepurl.com/b5_E-j\" target=\"_blank\">\n                <strong>Join the newsletter!</strong>\n              </a>\n            </div>\n          </div>\n        )}\n\n        <div className=\"credits\">\n          <div className=\"credits-header\">Other projects</div>\n          <a href=\"https://javier.xyz/img2css\">\n            <b>img2css</b>\n            <div>Convert images to pure css.</div>\n          </a>\n          <a href=\"https://javier.xyz/cohesive-colors\">\n            <b>cohesive-colors</b>\n            <div>Create cohesive color palletes.</div>\n          </a>\n          <a href=\"https://javier.xyz/morphin\">\n            <b>morphin</b>\n            <div>CSS image morphing.</div>\n          </a>\n          <a href=\"https://javier.xyz/clashjs/\">\n            <b>clashjs</b>\n            <div>JS AI Battle Game.</div>\n          </a>\n        </div>\n\n        <div>\n          {\"Created by \"}\n          <a href=\"https://javier.xyz/\">\n            <b>javierbyte</b>\n          </a>\n          {\".\"}\n          <br />\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction normalizeColor(color) {\n  return {\n    r: Math.floor(color.r * (color.a / 255) + 255 * (1 - color.a / 255)),\n    g: Math.floor(color.g * (color.a / 255) + 255 * (1 - color.a / 255)),\n    b: Math.floor(color.b * (color.a / 255) + 255 * (1 - color.a / 255)),\n    a: 255\n  };\n}\n\nfunction toPercent(number) {\n  return Math.round(number * 10000) / 100;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}